---
// Pagination.astro - Zero-JS pagination component
// Simple Previous/Next navigation for news list
interface Props {
  currentPage: number;
  totalPages: number;
  baseUrl?: string;
}

const { currentPage, totalPages, baseUrl = "" } = Astro.props;

const hasPrevious = currentPage > 1;
const hasNext = currentPage < totalPages;

const previousUrl = hasPrevious
  ? currentPage === 2
    ? `${baseUrl}/`
    : `${baseUrl}/page/${currentPage - 1}`
  : null;

const nextUrl = hasNext ? `${baseUrl}/page/${currentPage + 1}` : null;
---

{
  totalPages > 1 && (
    <nav class="pagination" aria-label="Pagination">
      {hasPrevious ? (
        <a href={previousUrl} class="pagination-btn" rel="prev">
          ← Previous
        </a>
      ) : (
        <span class="pagination-btn" aria-disabled="true">
          ← Previous
        </span>
      )}

      <span class="pagination-info meta-text">
        Page {currentPage} of {totalPages}
      </span>

      {hasNext ? (
        <a href={nextUrl} class="pagination-btn" rel="next">
          Next →
        </a>
      ) : (
        <span class="pagination-btn" aria-disabled="true">
          Next →
        </span>
      )}
    </nav>
  )
}

<style>
  .pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--space-4);
    margin: var(--space-12) 0;
  }

  .pagination-btn {
    display: inline-block;
    padding: var(--space-3) var(--space-6);
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    background-color: var(--accent-color);
    color: var(--bg-main);
    text-decoration: none;
    border: 2px solid var(--accent-color);
    transition: all var(--transition);
    cursor: pointer;
  }

  .pagination-btn:hover {
    background-color: var(--bg-main);
    color: var(--accent-color);
  }

  .pagination-btn[aria-disabled="true"] {
    opacity: 0.4;
    cursor: not-allowed;
    pointer-events: none;
  }

  .pagination-info {
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: 0 var(--space-4);
  }

  /* Responsive */
  @media (max-width: 640px) {
    .pagination {
      gap: var(--space-2);
    }

    .pagination-btn {
      padding: var(--space-2) var(--space-4);
      font-size: var(--text-xs);
    }

    .pagination-info {
      font-size: var(--text-xs);
      padding: 0 var(--space-2);
    }
  }
</style>
